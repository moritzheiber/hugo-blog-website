<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Git client configurations for multiple identities | Moritz Heiber</title><meta name=description content="Hi, I'm Moritz. My purpose in life seems to be trying to outsmart computers. I'm really bad at it most of the time. These are the artifacts I've collected along the way."><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:title" content="Git client configurations for multiple identities"><meta property="og:description" content="The bane of maintenance If you&rsquo;re like me, you&rsquo;re using your computer not just for work but also for your own personal projects and learning efforts. After all, why would you buy a completely separate machine just for the sake of maintaining two separate working environments, keeping them up-to-date and running while also constantly forgetting about where exactly you put that one file
.. was it your personal laptop?
Or was it on your machine dedicated for work ."><meta property="og:type" content="article"><meta property="og:url" content="https://heiber.im/posts/git-client-configurations-for-multiple-identities/"><meta property="article:published_time" content="2019-03-29T13:11:52+01:00"><meta property="article:modified_time" content="2020-12-25T16:14:25+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Git client configurations for multiple identities"><meta name=twitter:description content="The bane of maintenance If you&rsquo;re like me, you&rsquo;re using your computer not just for work but also for your own personal projects and learning efforts. After all, why would you buy a completely separate machine just for the sake of maintaining two separate working environments, keeping them up-to-date and running while also constantly forgetting about where exactly you put that one file
.. was it your personal laptop?
Or was it on your machine dedicated for work ."><link rel=stylesheet href=https://heiber.im/css/style-dark.css><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=https://heiber.im/images/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=https://heiber.im/images/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://heiber.im/images/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://heiber.im/images/favicon-32x32.png><link rel=manifest href=https://heiber.im/site.webmanifest></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><div id=header-post><a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a><a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a><a id=top-icon-tablet href=# onclick="$('html, body').animate({scrollTop:0},'fast');" style=display:none><i class="fas fa-chevron-up fa-lg"></i></a><span id=menu><span id=nav><ul><li><a href=https://heiber.im/>home</a></li><li><a href=https://heiber.im/about>about</a></li><li><a href=https://heiber.im/posts>blog</a></li></ul></span><br><span id=actions><ul><li><a class=icon href=https://heiber.im/posts/creating-a-solid-docker-base-image/><i class="fas fa-chevron-left" aria-hidden=true onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li><li><a class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast');"><i class="fas fa-chevron-up" aria-hidden=true onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li><li><a class=icon href=#><i class="fas fa-share-alt" aria-hidden=true onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li></ul><span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span></span><br><div id=share style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f"><i class="fab fa-facebook" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f&text=Git%20client%20configurations%20for%20multiple%20identities"><i class="fab fa-twitter" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f&title=Git%20client%20configurations%20for%20multiple%20identities"><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f&is_video=false&description=Git%20client%20configurations%20for%20multiple%20identities"><i class="fab fa-pinterest" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Git%20client%20configurations%20for%20multiple%20identities&body=Check out this article: https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f"><i class="fas fa-envelope" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f&title=Git%20client%20configurations%20for%20multiple%20identities"><i class="fab fa-get-pocket" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f&title=Git%20client%20configurations%20for%20multiple%20identities"><i class="fab fa-reddit" aria-hidden=true></i></a></li><li><a class=icon href="http://www.stumbleupon.com/submit?url=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f&title=Git%20client%20configurations%20for%20multiple%20identities"><i class="fab fa-stumbleupon" aria-hidden=true></i></a></li><li><a class=icon href="http://digg.com/submit?url=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f&title=Git%20client%20configurations%20for%20multiple%20identities"><i class="fab fa-digg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f&name=Git%20client%20configurations%20for%20multiple%20identities&description=The%20bane%20of%20maintenance%20If%20you%26rsquo%3bre%20like%20me%2c%20you%26rsquo%3bre%20using%20your%20computer%20not%20just%20for%20work%20but%20also%20for%20your%20own%20personal%20projects%20and%20learning%20efforts.%20After%20all%2c%20why%20would%20you%20buy%20a%20completely%20separate%20machine%20just%20for%20the%20sake%20of%20maintaining%20two%20separate%20working%20environments%2c%20keeping%20them%20up-to-date%20and%20running%20while%20also%20constantly%20forgetting%20about%20where%20exactly%20you%20put%20that%20one%20file%0a..%20was%20it%20your%20personal%20laptop%3f%0aOr%20was%20it%20on%20your%20machine%20dedicated%20for%20work%20."><i class="fab fa-tumblr" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f&t=Git%20client%20configurations%20for%20multiple%20identities"><i class="fab fa-hacker-news" aria-hidden=true></i></a></li></ul></div><div id=toc><nav id=TableOfContents><ul><li><a href=#the-bane-of-maintenance>The bane of maintenance</a></li><li><a href=#using-a-single-machine-for-work-and-play>Using a single machine for work and play</a><ul><li><a href=#the-git-configuration-conundrum>The Git configuration conundrum</a></li><li><a href=#identity-crisis>Identity crisis</a></li><li><a href=#theres-more-than-just-identity>There&rsquo;s more than just identity</a></li></ul></li><li><a href=#context-matters>Context matters</a><ul><li><a href=#user-context>User context</a></li><li><a href=#push-settings>Push settings</a></li><li><a href=#github-handle>GitHub handle</a></li><li><a href=#credential-helper>Credential helper</a></li><li><a href=#showing-signatures-in-logs>Showing signatures in logs</a></li><li><a href=#sorting-branches-in-the-overview>Sorting branches in the overview</a></li><li><a href=#last-but-not-least--conditional-includes>Last but not least .. Conditional includes</a></li><li><a href=#changing-my-identity-conditionally>Changing my identity, conditionally!</a></li></ul></li><li><a href=#newly-found-flexibility>Newly found flexibility</a></li></ul></nav></div></span></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">Git client configurations for multiple identities</h1><div class=meta><div class=postdate><time datetime="2019-03-29 13:11:52 +0100 +0100" itemprop=datePublished>2019-03-29</time>
(Updated: <time datetime="2020-12-25 16:14:25 +0100 +0100" itemprop=dateModified>2020-12-25</time>)</div><div class=article-category><i class="fas fa-archive"></i><a class=category-link href=https://heiber.im/categories/git>git</a></div><div class=article-tag><i class="fas fa-tag"></i><a class=tag-link href=https://heiber.im/tags/git rel=tag>git</a>
,
<a class=tag-link href=https://heiber.im/tags/configuration rel=tag>configuration</a></div></div></header><div class=content itemprop=articleBody><h2 id=the-bane-of-maintenance>The bane of maintenance</h2><p>If you&rsquo;re like me, you&rsquo;re using your computer not just for work but also for your own personal projects and learning efforts. After all, why would you buy a completely separate machine just for the sake of maintaining two separate working environments, keeping them up-to-date and running while also constantly forgetting about where exactly you put that one file</p><p>.. was it your personal laptop?<br>Or was it on your machine dedicated for work .. ?</p><p>The way I&rsquo;m <a href=https://github.com/moritzheiber/laptop-provisioning>provisioning my laptop(s)</a> definitely makes it easier to at least keep a consistent state across working environments, but the issue still remains that there&rsquo;s bound to be a time where you&rsquo;ll just be fed up with the overhead of having to maintain two separate environments for anything you do. The similarities are just too numerous.</p><h2 id=using-a-single-machine-for-work-and-play>Using a single machine for work and play</h2><p>I seldom meet other colleagues or business acquaintances who aren&rsquo;t using <a href=https://git-scm.org>Git</a> for version control. Some are also using it for purposes beyond just maintaining a consistent code state across boundaries, for things like <a href=https://nvie.com/posts/a-successful-git-branching-model/>agile software collaboration</a>, or <a href=https://bitband.atlassian.net/wiki/spaces/BD/pages/248840196/Git+Jira+Integration#GitJiraIntegration-Gitcommands>project management</a>, personally I prefer to stick to its original intended goal, which is to make it easy for developers to share and merge code state effortlessly in distributed environments.</p><p>While Git certainly isn&rsquo;t a tool which is mastered overnight, it lends itself to day-to-day activities fairly easily, especially if you&rsquo;re already familiar with other alternatives such as <a href=https://en.wikipedia.org/wiki/Team_Foundation_Server>TFS</a>, <a href=https://en.wikipedia.org/wiki/Concurrent_Versions_System>CVS</a> or <a href=https://en.wikipedia.org/wiki/Apache_Subversion>Subversion</a>. It can also be configured with <a href=https://git-scm.com/docs/git-config#_variables>a plethora of options</a>, most of which I will not be mentioning or introducing in the article. However, a few I find incredibly useful, especially when having to use separate &ldquo;<a href=https://en.wikipedia.org/wiki/Persona>personas</a>&rdquo; for personal projects and for work.</p><h3 id=the-git-configuration-conundrum>The Git configuration conundrum</h3><p>Git is globally configured via a single configuration file inside your home directory, called <code>.gitconfig</code>. Any option you either specify by running <code>git config --global &lt;option> &lt;value></code>, or by editing the file directly, will get picked up when you&rsquo;re using Git anywhere on your computer. You may override this behavior on a repository-by-repository basis by just skipping the <code>--global</code> parameter and executing the relevant configuration command inside the relevant repository.</p><p>Mind you though, these changes only carry a local effect and are not attached to the repository. Should you ever wipe the relevant repository&rsquo;s source code from your computer and clone a fresh copy the instructions you carefully set before will be gone.</p><p>And therein lies the dilemma.</p><h3 id=identity-crisis>Identity crisis</h3><p>Because locally specifying which configuration, identity and other options you want to use might sound appealing, but definitely not if you&rsquo;d have to do it over and over again, for each and every repository diverging in purpose from your main, &ldquo;global&rdquo; configuration. Chances are, you&rsquo;ll most likely forget over time which repository you added different settings to before, and which are still using your global configuration settings. And then you&rsquo;ll end up with commit messages specifying the wrong email address, username, GitHub handle or even GPG signature.</p><p>This can have serious implications for your workflow. Signed commits aren&rsquo;t exactly a new feature of Git (they&rsquo;re actually rather old) and Git repository hosting companies like <a href=https://github.com>GitHub</a> and <a href=https://gitlab.com>GitLab</a> have introduced features like <a href=https://help.github.com/en/articles/about-required-commit-signing>requiring signed commits with verified signatures for protected branches</a>. It does increase your level of assurance since you can be certain a specific commit has actually been submitted by the person the contributor claims to be (if you trust the signing process). Therefore it&rsquo;s important to use the right combination of username, email address and GPG signature within your Git repositories.</p><h3 id=theres-more-than-just-identity>There&rsquo;s more than just identity</h3><p>But there&rsquo;s more! What if you only wanted to sign your commits for a certain work package, inside a particular directory, but with a large number of repositories? What about other options you have set globally but wanted to have changed to either comply with localized requirements or to make your collaboration easier on certain projects?</p><p>You&rsquo;ve seen the list of options you can configure with <code>git config</code>, I&rsquo;m sure there&rsquo;ll be a few you would rather have set differently depending on your context.</p><p>This is where <strong>conditional Git configuration includes</strong> come into play.</p><h2 id=context-matters>Context matters</h2><p>Git allows for you to include specific configuration files depending on directory structures, i.e. if you have certain contexts under which you are operating (e.g. &ldquo;Project X&rdquo;, &ldquo;Project Y&rdquo;, &ldquo;client A&rdquo; or &ldquo;client B&rdquo;), and you&rsquo;re keeping separate working directories for all of their source code tracked in Git, you may include specific configuration files which apply to all of the top-level repositories and subsequent levels under said directory structure!</p><p>As an example, here&rsquo;s my current, global <code>.gitconfig</code> file:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=color:#66d9ef>[user]</span>
  <span style=color:#a6e22e>email</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>hello@heiber.im
</span><span style=color:#e6db74>  name = Moritz Heiber
</span><span style=color:#e6db74>  signingkey = 2F3A1C05</span>
<span style=color:#66d9ef>[push]</span>
  <span style=color:#a6e22e>default</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>simple</span>
<span style=color:#66d9ef>[github]</span>
  <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>moritzheiber</span>
<span style=color:#66d9ef>[credential]</span>
  <span style=color:#a6e22e>helper</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>/usr/share/doc/git/contrib/credential/libsecret/git-credential-libsecret</span>
<span style=color:#66d9ef>[includeIf &#34;gitdir:~/Code/thoughtworks/&#34;]</span>
  <span style=color:#a6e22e>path</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>~/Code/thoughtworks/gitconfig</span>
<span style=color:#66d9ef>[log]</span>
  <span style=color:#a6e22e>showSignature</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>true</span>
<span style=color:#66d9ef>[commit]</span>
  <span style=color:#a6e22e>gpgsign</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>true</span>
<span style=color:#66d9ef>[branch]</span>
  <span style=color:#a6e22e>sort</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>committerdate</span>
</code></pre></div><p>Let&rsquo;s pick it apart!</p><h3 id=user-context>User context</h3><p>The first part of the file references my &ldquo;global&rdquo; identity I&rsquo;d like to use for anything Git that&rsquo;s no specific to any of the work I&rsquo;m doing professionally:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=color:#66d9ef>[user]</span>
  <span style=color:#a6e22e>email</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>hello@heiber.im
</span><span style=color:#e6db74>  name = Moritz Heiber
</span><span style=color:#e6db74>  signingkey = 2F3A1C05</span>
</code></pre></div><p>As you can see, it&rsquo;s clearly showing that I am who you might think I am (&ldquo;Moritz Heiber&rdquo;), and that the email address I&rsquo;d prefer using for my commits is <code>hello@heiber.im</code>. It also specifies the short handle for a GPG key I will want to use for signing my commit messages, should I decide to do it.</p><p>Now, Git is fairly good at guessing which key to use, based upon my email address or even user handle, but specifying it explicitly does away with any ambiguity and reassures me that I&rsquo;ll always be using the &ldquo;right&rdquo; key associated with this particular identity.</p><h3 id=push-settings>Push settings</h3><p>This snippet defines the type of push <code>git push</code> is using by default:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=color:#66d9ef>[push]</span>
  <span style=color:#a6e22e>default</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>simple</span>
</code></pre></div><p>It became the default since Git 2.0, but I&rsquo;ve been keeping it in my configuration to, again, reduce ambiguity. There are <a href=https://git-scm.com/docs/git-config#Documentation/git-config.txt-pushdefault>a lot of other options you can potentially choose from</a>, and you should make up your own mind which way you want to go.</p><h3 id=github-handle>GitHub handle</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=color:#66d9ef>[github]</span>
  <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>moritzheiber</span>
</code></pre></div><p>This is a non-standard way of specifying your GitHub username, and it&rsquo;s used by some tooling I&rsquo;m currently using for some projects.</p><h3 id=credential-helper>Credential helper</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=color:#66d9ef>[credential]</span>
  <span style=color:#a6e22e>helper</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>/usr/share/doc/git/contrib/credential/libsecret/git-credential-libsecret</span>
</code></pre></div><p>Not everyone seems to know about credentials helpers and their usefulness. Personally, I&rsquo;ve been defaulting to HTTP-based endpoints for repositories for quite a while now, because it&rsquo;s faster and doesn&rsquo;t rely on the exchange of a key pair to work correctly. There&rsquo;s <a href=https://help.github.com/en/articles/caching-your-github-password-in-git>convenient documentation available for all major operating systems on how to set up a credential helper for your local working environment</a>, and at least for me it has proven to be invaluable, especially for repositories that do not allow for SSH access (because they&rsquo;re hidden behind a firewall or a proxy server).</p><p>No more entering your username and password over and over again!</p><h3 id=showing-signatures-in-logs>Showing signatures in logs</h3><p>By default, <code>git log</code> does not show whether or not a certain commit has been signed by a verified entity. In fact, it&rsquo;ll be completely lost on you whether or not it is signed at all!</p><p>The following snippet changes that:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=color:#66d9ef>[log]</span>
  <span style=color:#a6e22e>showSignature</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>true</span>
</code></pre></div><p>The output before the change:</p><pre><code>commit f3a9fbb796508d30f22b63f838d9ebc47e848dfe (HEAD -&gt; master, origin/master)
Author: Moritz Heiber &lt;hello@heiber.im&gt;
Date:   Fri Mar 29 10:44:49 2019 +0100

    Added repo for LDAC/ACC/AptX Bluetooth support (probably obsolete after 19.04)
</code></pre><p>and after it:</p><pre><code>commit f3a9fbb796508d30f22b63f838d9ebc47e848dfe (HEAD -&gt; master, origin/master)
gpg: Signature made Fr 29 MÃ¤r 2019 10:44:49 CET
gpg:                using RSA key 638614C7C9374D714EA6DA41650DA6EE5526CD96
gpg: Good signature from &quot;Moritz Heiber &lt;hello@heiber.im&gt;&quot; [ultimate]
Primary key fingerprint: 7430 7F3F 5312 0B4C BBAC  4C28 1F77 2A09 2F3A 1C05
     Subkey fingerprint: 6386 14C7 C937 4D71 4EA6  DA41 650D A6EE 5526 CD96
Author: Moritz Heiber &lt;hello@heiber.im&gt;
Date:   Fri Mar 29 10:44:49 2019 +0100

    Added repo for LDAC/ACC/AptX Bluetooth support (probably obsolete after 19.04)
</code></pre><p>Before you never would&rsquo;ve guessed that the commit is actually signed with a valid key. How about that!</p><h3 id=sorting-branches-in-the-overview>Sorting branches in the overview</h3><p>How many branches do you have? Personally, I love working with <a href=https://trunkbaseddevelopment.com/>trunk-based development</a> (especially since I&rsquo;m also a huge advocate of <a href=https://en.wikipedia.org/wiki/Continuous_delivery>Continuous Delivery</a>, however, not every project is seeing eye-to-eye with this concept. You&rsquo;ll find a incredibly high amount of branches on almost every larger project, and at a glance you really wouldn&rsquo;t know which branch has actually seen activity recently .. or would you?</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=color:#66d9ef>[branch]</span>
  <span style=color:#a6e22e>sort</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>committerdate</span>
</code></pre></div><p>This convenient snippet introduces <code>git branch</code> to the concept of a more useful sorting, giving you an idea which branch has seen recent commits by displaying them at the top. It&rsquo;s a personal preference, but I find it invaluable to keep up-to-date with whatever branches are still in use and which branches are stale, over time.</p><h3 id=last-but-not-least--conditional-includes>Last but not least .. Conditional includes</h3><p>I&rsquo;ve saved the best one for last. <a href=https://git-scm.com/docs/git-config#_conditional_includes>Conditional includes</a>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=color:#66d9ef>[includeIf &#34;gitdir:~/Code/thoughtworks/&#34;]</span>
  <span style=color:#a6e22e>path</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>~/Code/thoughtworks/gitconfig</span>
</code></pre></div><p>This statement basically says: &ldquo;<strong>If</strong> there is a directory named <strong><code>~/Code/thoughtworks</code></strong> and it contains a file called <strong><code>gitconfig</code></strong>, use it to <strong>override the global settings for any and all git repositories under the directory structure in <code>~/Code/thoughtworks/</code></strong>&rdquo;.</p><p>It&rsquo;s important to mention that this only ever overrides my <strong>global</strong> settings, <strong>not the per-repository</strong> settings I may or may not have entered separately. The order of escalation is:</p><pre><code>Repositority Git configuration &gt; Directory Git configuration &gt; $HOME/.gitconfig
</code></pre><h3 id=changing-my-identity-conditionally>Changing my identity, conditionally!</h3><p>What&rsquo;s in the file though? This!</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=color:#66d9ef>[user]</span>
  <span style=color:#a6e22e>email</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>mheiber@thoughtworks.com
</span><span style=color:#e6db74>  name = Moritz Heiber
</span><span style=color:#e6db74>  signingkey = F75C32B1</span>
<span style=color:#66d9ef>[commit]</span>
  <span style=color:#a6e22e>gpgsign</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>true</span>
</code></pre></div><p>It simply tells Git to rather use my &ldquo;corporate&rdquo; identity (my email &ldquo;<code>mheiber@thoughtworks.com</code>&rdquo; and the matching GPG key) and to absolutely enforce commit signing, no matter what the global configuration tells it to do. I might want to decide to skip signing my commits for my personal projects, but it&rsquo;ll say mandatory for any and all projects contained in the <code>~/Code/thoughtworks/</code> directory (unless I specify a different option on a repository level).</p><p>You could add any other Git configuration option to this file, specifically addressing concerns in and around your working environment, project regulations or compliance issues.</p><h2 id=newly-found-flexibility>Newly found flexibility</h2><p>I never thought to be able to solve the issues I&rsquo;ve been having with Git and its configuration so elegantly, but conditional includes really are helping me to maintain a level of flexibility for all of my work, whether it&rsquo;s personal or work-related, and it&rsquo;s a joy to work with. I have already added the <code>gitconfig</code> file to my <a href=https://github.com/moritzheiber/laptop-provisioning/commit/62ff85444abe090db3e600a09e0c98531925a319>laptop-provisioning repository</a> and I&rsquo;m also keeping the global configuration of my dotfiles stashed away separately.</p><p>This will ensure I&rsquo;ll always be able to replicate this setup and to keep working with several different identities securely and efficiently when using Git!</p></div></article><div id=footer-post-container><div id=footer-post><div id=nav-footer style=display:none><ul><li><a href=https://heiber.im/>home</a></li><li><a href=https://heiber.im/about>about</a></li><li><a href=https://heiber.im/posts>blog</a></li></ul></div><div id=toc-footer style=display:none><nav id=TableOfContents><ul><li><a href=#the-bane-of-maintenance>The bane of maintenance</a></li><li><a href=#using-a-single-machine-for-work-and-play>Using a single machine for work and play</a><ul><li><a href=#the-git-configuration-conundrum>The Git configuration conundrum</a></li><li><a href=#identity-crisis>Identity crisis</a></li><li><a href=#theres-more-than-just-identity>There&rsquo;s more than just identity</a></li></ul></li><li><a href=#context-matters>Context matters</a><ul><li><a href=#user-context>User context</a></li><li><a href=#push-settings>Push settings</a></li><li><a href=#github-handle>GitHub handle</a></li><li><a href=#credential-helper>Credential helper</a></li><li><a href=#showing-signatures-in-logs>Showing signatures in logs</a></li><li><a href=#sorting-branches-in-the-overview>Sorting branches in the overview</a></li><li><a href=#last-but-not-least--conditional-includes>Last but not least .. Conditional includes</a></li><li><a href=#changing-my-identity-conditionally>Changing my identity, conditionally!</a></li></ul></li><li><a href=#newly-found-flexibility>Newly found flexibility</a></li></ul></nav></div><div id=share-footer style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f"><i class="fab fa-facebook fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f&text=Git%20client%20configurations%20for%20multiple%20identities"><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f&title=Git%20client%20configurations%20for%20multiple%20identities"><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f&is_video=false&description=Git%20client%20configurations%20for%20multiple%20identities"><i class="fab fa-pinterest fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Git%20client%20configurations%20for%20multiple%20identities&body=Check out this article: https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f"><i class="fas fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f&title=Git%20client%20configurations%20for%20multiple%20identities"><i class="fab fa-get-pocket fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f&title=Git%20client%20configurations%20for%20multiple%20identities"><i class="fab fa-reddit fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.stumbleupon.com/submit?url=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f&title=Git%20client%20configurations%20for%20multiple%20identities"><i class="fab fa-stumbleupon fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://digg.com/submit?url=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f&title=Git%20client%20configurations%20for%20multiple%20identities"><i class="fab fa-digg fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f&name=Git%20client%20configurations%20for%20multiple%20identities&description=The%20bane%20of%20maintenance%20If%20you%26rsquo%3bre%20like%20me%2c%20you%26rsquo%3bre%20using%20your%20computer%20not%20just%20for%20work%20but%20also%20for%20your%20own%20personal%20projects%20and%20learning%20efforts.%20After%20all%2c%20why%20would%20you%20buy%20a%20completely%20separate%20machine%20just%20for%20the%20sake%20of%20maintaining%20two%20separate%20working%20environments%2c%20keeping%20them%20up-to-date%20and%20running%20while%20also%20constantly%20forgetting%20about%20where%20exactly%20you%20put%20that%20one%20file%0a..%20was%20it%20your%20personal%20laptop%3f%0aOr%20was%20it%20on%20your%20machine%20dedicated%20for%20work%20."><i class="fab fa-tumblr fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fheiber.im%2fposts%2fgit-client-configurations-for-multiple-identities%2f&t=Git%20client%20configurations%20for%20multiple%20identities"><i class="fab fa-hacker-news fa-lg" aria-hidden=true></i></a></li></ul></div><div id=actions-footer><a id=menu class=icon href=# onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden=true></i>Menu</a>
<a id=toc class=icon href=# onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden=true></i>TOC</a>
<a id=share class=icon href=# onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden=true></i>share</a>
<a id=top style=display:none class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden=true></i>Top</a></div></div></div><footer id=footer><div class=footer-left>Copyright &copy; 2020 Licensed under CC-by-4.0</div><div class=footer-right><nav><ul><li><a href=https://heiber.im/>home</a></li><li><a href=https://heiber.im/about>about</a></li><li><a href=https://heiber.im/posts>blog</a></li></ul></nav></div></footer></div></body><link rel=stylesheet href=https://heiber.im/lib/font-awesome/css/all.min.css><script src=https://heiber.im/lib/jquery/jquery.min.js></script><script src=https://heiber.im/js/main.js></script></html>